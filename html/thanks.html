<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CORO PROJECT | 送信完了</title>
  <meta name="description" content="お問い合わせの送信が完了しました。内容を確認のうえ、2営業日以内にご連絡いたします。">
  <link rel="canonical" href="https://coroproject.jp/html/thanks.html">
  <meta property="og:site_name" content="CORO PROJECT">
  <meta property="og:type" content="website">
  <meta property="og:title" content="送信完了 | CORO PROJECT">
  <meta property="og:description" content="内容を確認のうえ、2営業日以内にご連絡いたします。">
  <meta property="og:url" content="https://coroproject.jp/html/thanks.html">
  <meta property="og:image" content="https://coroproject.jp/images/ogp.png">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="icon" type="image/png" href="../images/logo.png">
  <link rel="apple-touch-icon" href="../images/logo.png">
  <!-- ✅ ファビコン -->
  <link rel="icon" type="image/png" href="../images/logo.png">
  <link rel="apple-touch-icon" href="images/logo.png">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
  <div id="app" class="app">
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="../index.html">
          <img src="../images/toukalogo.png" alt="CORO PROJECT ロゴ" class="brand-logo">
          <span class="brand-text">CORO PROJECT</span>
        </a>

        <!-- モバイル用トグル -->
        <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="siteNav" aria-label="メニューを開く">
          <span></span><span></span><span></span>
        </button>

        <nav class="nav" id="siteNav" aria-label="メインナビゲーション">
          <a href="../index.html#about">About</a>
          <a href="./news.html">News</a>
          <a href="./talents.html">Talents</a>
          <a href="./audition.html">Audition</a>
          <a href="./contact.html">Contact</a>
        </nav>
      </div>
    </header>

    <main>
      <!-- Sub Hero（統一） -->
      <section class="sub-hero">
        <div class="container sub-hero-inner">
          <div class="sub-hero-copy">
            <p class="eyebrow">Thanks</p>
            <h1>送信が完了しました</h1>
            <p class="lead">お問い合わせありがとうございます。内容を確認のうえ、<b>2営業日以内</b>にご連絡いたします。</p>
            <div class="sub-hero-actions">
              <a class="btn btn-primary btn-lg" href="../index.html">トップへ戻る</a>
              <a class="btn btn-ghost btn-lg" href="./contact.html">もう一度問い合わせる</a>
            </div>
          </div>
          <div class="sub-hero-art" aria-hidden="true">
            <div class="audition-visual"></div>
          </div>
        </div>
      </section>

      <!-- 完了メッセージカード -->
      <section class="section">
        <div class="container" style="max-width:760px">
          <div class="card" style="padding:28px; text-align:center">
            <h2 class="section-title" style="margin-bottom:8px">受付番号</h2>
            <p class="footer-desc" style="margin:0 0 16px">#<span id="ticket"></span></p>
            <p class="footer-desc">確認メールを <a href="mailto:info@coroproject.jp">info@coroproject.jp</a> からお送りします。届かない場合は迷惑メールをご確認ください。</p>
            <div style="margin-top:20px">
              <a class="btn btn-primary" href="../index.html">トップページへ戻る</a>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA -->
      <section class="section cta">
        <div class="container cta-inner">
          <div class="cta-copy">
            <h2>Audition</h2>
            <p>"自分だけでは届かなかった場所へ"</p>
          </div>
          <div class="cta-actions">
            <a class="btn btn-primary btn-lg" href="./audition.html">応募する</a>
            <a class="btn btn-ghost btn-lg" href="./audition.html#requirements">要項を読む</a>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div class="footer-col">
          <div class="brand brand--footer">
            <img src="../images/logo.png" alt="CORO PROJECT" class="footer-logo">
            <span class="brand-text">CORO PROJECT</span>
          </div>
          <p class="footer-desc">CORO PROJECTはVTuberのプロデュース・配信支援・クリエイティブ制作を行うプロダクションです。</p>
          <div class="footer-actions">
            <a class="btn btn-primary" href="./contact.html">問い合わせ</a>
          </div>
        </div>
        <div class="footer-col">
          <h4>Links</h4>
          <ul class="footer-links">
            <li><a href="./news.html">News</a></li>
            <li><a href="./talents.html">Talents</a></li>
            <li><a href="./audition.html">Audition</a></li>
            <li><a href="./privacy.html">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Social</h4>
          <ul class="footer-links">
            <li><a href="https://youtube.com/@YourChannel" target="_blank">YouTube</a></li>
            <li><a href="https://x.com/YourAccount" target="_blank">X</a></li>
            <li><a href="mailto:info@coroproject.jp">Mail</a></li>
          </ul>
        </div>
      </div>
      <div class="container footer-copy">
        <small>© <span id="year"></span> CORO PROJECT</small>
      </div>
    </footer>
  </div>
  <script>
    (async function () {
      const basePath = location.pathname.includes('/html/') ? '..' : '.';
      const JSON_URL = `${basePath}/data/talents.json`;

      let data = [];
      try {
        const res = await fetch(JSON_URL);
        if (!res.ok) throw new Error('HTTP ' + res.status);
        data = await res.json();
      } catch (err) {
        console.error('タレントJSONの読み込みに失敗しました', err);
        const wrap = document.getElementById('talentList');
        if (wrap) {
          wrap.innerHTML = '<p class="news-empty">タレント情報を読み込めませんでした。</p>';
        }
        return;
      }

      if (!Array.isArray(data)) data = [];

      // ===== ユーティリティ =====
      function esc(s = '') {
        return String(s).replace(/[&<>"']/g, m => ({
          '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
        }[m]));
      }
      function safeId(t) {
        return (t.id || (t.name_ja || t.name_en || 'talent'))
          .replace(/[^\w\-]+/g, '-');
      }
      function fmtDate(s) {
        if (!s) return '';
        const d = new Date(s);
        if (isNaN(d)) return esc(s);
        const y = d.getFullYear();
        const m = String(d.getMonth() + 1).padStart(2, '0');
        const dd = String(d.getDate()).padStart(2, '0');
        return `${y}.${m}.${dd}`;
      }
      function badge(status) {
        const map = { active: '活動中', hiatus: '一時休止', graduated: '卒業' };
        return `<span class="tag">${map[status] || ''}</span>`;
      }

      // ===== カード / 詳細の HTML =====
      function cardHTML(t) {
        const id = '#' + safeId(t);
        const avatar = t.avatar ? `style="background-image:url('${esc(t.avatar)}')"` : '';
        const plats = (t.platforms || [])
          .slice(0, 3)
          .map(p => `<span class="tag">${esc(p.name)}</span>`)
          .join(' ');
        return `
          <article class="card">
            <a class="card-body" href="${id}" data-anchor>
              <div class="card-thumb" aria-hidden="true" ${avatar}></div>
              <div class="card-meta">
                ${badge(t.status)}
                <time datetime="${esc(t.debut || '')}">${fmtDate(t.debut)}</time>
              </div>
              <h3 class="card-title">${esc(t.name_ja || t.name_en)}</h3>
              <p class="card-text">${esc(t.profile || '')}</p>
              <div style="margin-top:8px; display:flex; gap:6px; flex-wrap:wrap">${plats}</div>
            </a>
          </article>
        `;
      }

      function linkBtn(href, label) {
        return href
          ? `<a class="btn btn-ghost" href="${esc(href)}" target="_blank" rel="noopener">${esc(label)} ↗</a>`
          : '';
      }

      function detailHTML(t) {
        const id = safeId(t);
        const hero = t.heroImage
          ? `<div class="talent-hero-image" style="background-image:url('${esc(t.heroImage)}')"></div>`
          : '';
        const avatar = t.avatar
          ? `<div class="talent-avatar" style="background-image:url('${esc(t.avatar)}')"></div>`
          : '';
        const plats = (t.platforms || [])
          .map(p => linkBtn(p.url, p.name))
          .join(' ');
        const tags = (t.tags || [])
          .map(tag => `<span class="tag">${esc(tag)}</span>`)
          .join(' ');

        const bio = Array.isArray(t.longProfile)
          ? t.longProfile.map(p => `<p>${esc(p)}</p>`).join('')
          : `<p>${esc(t.profile || '')}</p>`;

        return `
          <li class="time-item" id="${id}">
            <span class="time-badge">${esc(t.group || 'Talent')}</span>
            <div class="time-body">
              <div class="card talent-detail-card">
                ${hero}
                <div class="talent-detail-main">
                  ${avatar}
                  <div class="talent-detail-text">
                    <h3 class="card-title">
                      ${esc(t.name_ja || '')}
                      ${t.name_en ? `<span class="talent-name-en">${esc(t.name_en)}</span>` : ''}
                    </h3>
                    <div class="card-meta">
                      ${badge(t.status)}
                      <time datetime="${esc(t.debut || '')}">${fmtDate(t.debut)}</time>
                    </div>
                    <div class="talent-tags">${tags}</div>
                    <div class="talent-bio">${bio}</div>
                    <div class="talent-links">
                      ${plats}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
        `;
      }

      // ===== レンダリング =====
      const listWrap = document.getElementById('talentList');
      const detailWrap = document.getElementById('talentDetail');

      if (listWrap) {
        listWrap.innerHTML = data.length
          ? data.map(cardHTML).join('')
          : '<p class="news-empty">現在表示できるタレントがいません。</p>';

        // カードクリック → 詳細へスクロール
        listWrap.addEventListener('click', e => {
          const a = e.target.closest('a[data-anchor]');
          if (!a) return;
          e.preventDefault();
          const target = document.querySelector(a.getAttribute('href'));
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            target.classList.add('in');
            setTimeout(() => target.classList.remove('in'), 1200);
          }
        });
      }

      if (detailWrap) {
        detailWrap.innerHTML = data.map(detailHTML).join('');
      }
    })();
  </script>
</body>
</html>
